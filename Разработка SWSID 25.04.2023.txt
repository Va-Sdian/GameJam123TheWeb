Глобальный допил множества фич №1

1. Полоска и кол-во хп игрока
2. Полоска и кол-во хп базы
3. Анимация смерти мобов
4. Экран смерти
5. По-другому сделанная рамка с кнопками (активна только кнопка выхода)
6. Текст в игре в одном шрифте


Обновления от 23.01.23
1. Добавил функционал к другим кнопкам окна
2. Добавил состояние STUN к врагу Enemy1. Оно срабатывает, когда по нему попадают жёлтыми пулями от пкм
3. Жёлтые пули наносят 0 дамага
4. Убрал поворот узла Игрока и поставил в коде градус поворота на спрайт ног
5. Добавил дополнительное перемещение камеры с движением мыши
6. Заставил Enemy поворачиваться правильно за счёт поворота спрайтов на 90 градусов
7. Враги в стане находятся 10 секунд, а затем оживают
8. Пофиксил баг со станом: теперь после выхода из стана враг возвращается в предыдущий стейт до этого
9. Реализовал нокбэк

Обновление 18.02.23:
1. Реализовал связывание, но враг только поворачивается в сторону игрока, его никак не тянет
2.1 Координаты считываются правильно для jointLine.add_point, но почему-то когда их отображает правильно ничего не рисуется, 
а когда я ставлю нулевые координаты то линия начинает рисоваться?
2.2 Вычел из координатов точек, которые добавлял, собственные координаты узла Line2D — стало отображать корректно
2.3 Но теперь рисунок линики некорректно смещается при повороте узла из-за соединения.

Обновление 21.02.23:
1. Рисунок смещался потому что соединение поворачивало врага в виде поворота всего узла врага, исправил тем что для узла
рисунка скопировал jointLine.set_deferred("rotation", но с обратным значением переменных
2. Целый день работал над тем, что делал тестовую сцену с претягиванием мышкой сначала спрайта, затем кинематикБади2д,
я это реализовал с целью понять, как заставить тела притягиваться с помощью СпрингДжоинт. Я обнаружил, что риджид бади 
работает нормально, но кинБади нет, видимо из-за физики?

Обновление 26.02.23:
1. Сделал тестового врага на основе RigidBody, благодаря этому он теперь реагирует на пружину. Двигается забавно неправильно, 
нужно будте это подкручивать, чтобы было более реалистично
2. Заменил move_and_slide на apply_central_impulse, но от так движется мгновенно, нужно менять на что-то, чтобы движение было
как раньше
3. При linear_velocity = velocity движется так, как нужно.
4. Обнаружил баг, что когда враг связан, если он всё же вплотную приближается к игроку, он выходит из стана и будучи связанным
начинает атаковать. Однако если его снова ударить станом он снова уходит в стан.

Обновление 01.03.2023:
1. Поменял определение цели у врага с замены странного определения метода bounce на распознание группы base или player
2. Когда враг отлетает на расстояние он снова переходит в стейт алайв и снова подходит к цели

Обновление 02.03.2023:
1. Добавил табличку очков справа-верху
2. В коде врага сделал func plus_one_score(): Global.score += 1, и вызов его через анимейш плеер в конце анимации смерти.
Если вызывал его в коде, то эта функция вызывалась каждый кадр, пока проигрывалась анимация смерти.
3. Централизовал камеру для главного меню
4. Подложка главного меню теперь крутится по кругу
5. Централизовал камеру в опциях и титрах


Обновление 06.04.23:
1. Реализовал связывание любых врагов
Создал функцию find_player(), где из массива группы таргет вытягивается игрок, и он в return player

Обновление 07.04.23:
1.Пофиксил "ошибку с бесконечным соединением отвязывания в коннект бади, при попадании ещё одной пули."
Сигнал enemyStunned отсылается только тогда, когда враг ни с кем не связан (PiC = false). По стандарту PiC только объявляется в узле врага, без какого-либо значения
2.Фикс "Узел врага говорит что сигнал ChangePiC не существует, хотя он объявлен в глобал сигналс"
Нужно было emit_signal через GlobalSignals, ведь там объявляется, что есть такой сигнал, а не в узле врага
3. Фикс"Узел врага два раза прогоняет соединение. Но на третий уже работает как ПиК = тру и не прогоняет, почему триггерит второй раз?"
Это было потому, что в узле BulletCapture сначала вызывался при контакте с врагом функция stunned, в котором и прогонялось связывание, а уже потом вызывалось body.PiC = PiC, которое передаёт PiC от пули к врагу. Нужно было поменять их местами
4. Создал отсоединение пружины и линии при выходе из стана
5. Создаёт "Создавать новые узлы DSpringJoint при атаке нового врага."
6.Сделал "Придумать и реализовать логику для связывания дополнительных врагов"

Обновление 11.04.23:
1. Фикс Убрать стекующиеся ошибки о повторном присоединении пружины и линии при повторном оглушении (проверить, присоединены ли они уже?)
Пофиксил с помощью is_conected

Обновление 12.04.23:
1. Переписал функционал PiC — теперь это глобальная переменная, которая отслеживает количество соединений. 
2. У игрока появилась функция PlayerIsConnectedSummCheck, которая следит за этой глобальной переменной, и при 0 назначает, что
соединений нет (false), всё остальное true.
3. Выявил баг с зацикливанием стана из-за нового функционала PiC. К сожалению, есть ещё баги:
3.1 При поочерёдном стане разных врагов, они по новой добавляют количество изменений. Пофиксил следующей строчкой
4. PiC внутри игроков теперь отслеживает, соединён враг с игроком или нет.
4.1. Почему-то стали некорректно работать поочерёдные соединения, например при попадании во врага, который был предыдущий, он
обрывает соединения с предыдущим врагом.
5. Вроде? пофиксил: Убрать ошибку Can't add child '@DSpringJoint@2' to 'Enemy2', already has a parent 'Enemy2'. (Проверкой на наличие этого родителя?)
if Dspring_instance.get_parent() == null:


16.04:
1. Не проходит присоединение врага (второй узел), выдаёт нулл??!!

19.04:
1. Пофиксил не вызвание функции у узла внутри чайлд узла. Для этого нужно было объявить этот узел как новую переменную.
@onready var wasLCE_Dspring_instance: Node2D
и присвоить ей предыдущий инстанц, через который создавался чайлд нод.
wasLCE_Dspring_instance = Dspring_instance

22.04:
1. Как задавать или узнавать название узла, который спавнится через add_child?
Хз, я не разобрался, почему его не находит, я сделал просто через get_node
2.Застаненные враги следуют за курсором мыши
(2. При создании связывания указывать длину соединения равной расстоянию между связанными объектами) наверное уже и не нужно

25.04
1. Пофиксил (Начал вводить ловлю в карантин, реализовал коллизию, но не могу через код базы сменить state у застанненного врага.)
Теперь врагов можно закидывать в карантин


НУЖНО:
1. 
Если убить врага (до того?), как он сбросит wasLCE, при стане нового врага получается ошибка (Вроде пофикшено? 04.2023)


1.По истечению стана где-то сохраняется пик, новый застаненный враг связывается с последним застаненным, это нужно исправить
1.2 Так же враги не станятся повторно
3. Корректное отображение хп базы
4. Обучение для первого уровня GameWindow

